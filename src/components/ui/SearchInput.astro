---
interface Props {
  placeholder?: string;
  value?: string;
  name?: string;
  loading?: boolean;
  class?: string;
}

const {
  placeholder = 'Search...',
  value = '',
  name = 'search',
  loading = false,
  class: className
} = Astro.props;

import { Icon } from 'astro-icon/components';
---

<div class:list={[
  "relative",
  className
]}>
  <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
    <Icon
      name="lucide:search"
      class="h-5 w-5 text-gray-400"
      aria-hidden="true"
    />
  </div>
  <input
    type="search"
    name={name}
    value={value}
    class:list={[
      "block w-full pl-10 pr-3 py-2 text-sm",
      "border border-gray-300 rounded-lg",
      "bg-white dark:bg-dark-surface",
      "text-gray-900 dark:text-gray-100",
      "placeholder-gray-500 dark:placeholder-gray-400",
      "focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",
      "dark:border-gray-600 dark:focus:ring-primary-500 dark:focus:border-primary-500"
    ]}
    placeholder={placeholder}
    aria-label="Search"
  />
  {loading && (
    <div class="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none">
      <div class="animate-spin h-5 w-5 text-gray-400">
        <Icon name="lucide:loader-2" />
      </div>
    </div>
  )}
</div> 